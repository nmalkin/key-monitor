plugins {
    id "application"
    id "org.jetbrains.kotlin.jvm" version "1.1.2-2"
}

repositories {
    mavenCentral()
}

dependencies {
    compile "com.beust:jcommander:1.72"
    compile 'commons-validator:commons-validator:1.6'
    compile "org.jetbrains.kotlin:kotlin-stdlib-jre8"
    compile 'org.bouncycastle:bcprov-jdk15on:1.57'
    compile 'org.whispersystems:signal-service-android:2.5.10'
    //testCompile group: 'junit', name: 'junit', version: '4.12'
}

mainClassName = 'KeyLookupKt'
applicationName = 'key-lookup'

task createExtraRunApp(type: CreateStartScripts) {
    mainClassName = "SignupTaskKt"
    classpath = startScripts.classpath
    outputDir = startScripts.outputDir
    applicationName = 'signup-task'
}

applicationDistribution.into("bin") {
    duplicatesStrategy= DuplicatesStrategy.EXCLUDE
    from(createExtraRunApp)
    fileMode = 0755
}